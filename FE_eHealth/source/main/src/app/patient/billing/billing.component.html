<!-- src/app/billing/billing.component.html -->
<section class="content">
  <div class="content-block">
    <div class="block-header">
      <app-breadcrumb [title]="'Billing'" [items]="[]" [active_item]="'Billing'">
      </app-breadcrumb>
    </div>

    <div class="row clearfix">
      <div class="col-12">
        <div class="card">
          <div class="header">
            <h2>Billing</h2>
          </div>

          <div class="body">
            <div class="table-responsive">
              <table mat-table [dataSource]="bills" class="mat-elevation-z8 table table-hover">

                <!-- Invoice No -->
                <ng-container matColumnDef="invoiceNo">
                  <th mat-header-cell *matHeaderCellDef> Invoice No </th>
                  <td mat-cell *matCellDef="let bill"> #{{ bill.invoiceNo }} </td>
                </ng-container>

                <!-- Doctor Name -->
                <ng-container matColumnDef="doctorName">
                  <th mat-header-cell *matHeaderCellDef> Doctor Name </th>
                  <td mat-cell *matCellDef="let bill">
                    <a [href]="'mailto:' + bill.doctorEmail">
                      {{ bill.doctorName }}
                    </a>
                  </td>
                </ng-container>

                <!-- Date -->
                <ng-container matColumnDef="date">
                  <th mat-header-cell *matHeaderCellDef> Date </th>
                  <td mat-cell *matCellDef="let bill">
                    {{ bill.date | date: 'dd/MM/yyyy' }}
                  </td>
                </ng-container>

                <!-- Amount -->
                <ng-container matColumnDef="amount">
                  <th mat-header-cell *matHeaderCellDef> Amount </th>
                  <td mat-cell *matCellDef="let bill">
                    {{ bill.amount | currency }}
                  </td>
                </ng-container>

                <!-- Tax -->
                <ng-container matColumnDef="tax">
                  <th mat-header-cell *matHeaderCellDef> Tax </th>
                  <td mat-cell *matCellDef="let bill">
                    {{ (bill.tax / bill.amount) * 100 | number:'1.0-0' }}%
                  </td>
                </ng-container>

                <!-- Discount -->
                <ng-container matColumnDef="discount">
                  <th mat-header-cell *matHeaderCellDef> Discount </th>
                  <td mat-cell *matCellDef="let bill">
                    {{ bill.discount | currency }}
                  </td>
                </ng-container>

                <!-- Total -->
                <ng-container matColumnDef="total">
                  <th mat-header-cell *matHeaderCellDef> Total </th>
                  <td mat-cell *matCellDef="let bill">
                    {{ bill.total | currency }}
                  </td>
                </ng-container>

                <!-- Actions -->
                <ng-container matColumnDef="actions">
                  <th mat-header-cell *matHeaderCellDef> Actions </th>
                  <td mat-cell *matCellDef="let bill">
                    <button mat-icon-button (click)="download(bill)">
                      <mat-icon>cloud_download</mat-icon>
                    </button>
                    <button mat-icon-button (click)="view(bill)">
                      <mat-icon>visibility</mat-icon>
                    </button>
                    <button mat-icon-button (click)="print(bill)">
                      <mat-icon>print</mat-icon>
                    </button>
                  </td>
                </ng-container>

                <!-- Header & Row Declarations -->
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>