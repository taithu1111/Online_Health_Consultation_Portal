<div class="auth-container">
  <div class="row auth-main">
    <div class="col-sm-6 px-0 d-none d-sm-block">
      <div class="left-img" style="background-image: url(assets/images/pages/bg-03.png);"></div>
    </div>
    <div class="col-sm-6 auth-form-section">
      <div class="form-section">
        <div class="auth-wrapper">
          <h5 class="welcome-msg">Reset Your Password</h5>
          <p class="auth-signup-text text-muted">You're changing the password for:</p>
          
          <!-- Added account email display -->
          <div class="account-email-display mb-4">
            <mat-icon class="account-icon">account_circle</mat-icon>
            <span class="account-email-text">{{email}}</span>
          </div>

          <form class="validate-form" [formGroup]="resetForm" (ngSubmit)="onSubmit()">
            <div class="row">
              <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-2">
                <span class="error-subheader2 p-t-20 p-b-15">
                  Please enter and confirm your new password below.
                </span>

                <!-- Hidden email field for form submission -->
                <input type="hidden" formControlName="email">

                <mat-form-field class="example-full-width" appearance="outline">
                  <mat-label>New Password</mat-label>
                  <input matInput formControlName="newPassword" required type="password">
                  <mat-icon class="material-icons-outlined color-icon p-3" matSuffix>lock</mat-icon>
                  <mat-error *ngIf="f['newPassword'].errors?.['required']">
                    Password is required
                  </mat-error>
                  <mat-error *ngIf="f['newPassword'].errors?.['minlength']">
                    Password must be at least 8 characters
                  </mat-error>
                </mat-form-field>

                <mat-form-field class="example-full-width" appearance="outline">
                  <mat-label>Confirm Password</mat-label>
                  <input matInput formControlName="confirmPassword" required type="password">
                  <mat-icon class="material-icons-outlined color-icon p-3" matSuffix>lock_reset</mat-icon>
                  <mat-error *ngIf="f['confirmPassword'].errors?.['required']">
                    Please confirm your password
                  </mat-error>
                  <mat-error *ngIf="resetForm.errors?.['mismatch'] && f['confirmPassword'].touched">
                    Passwords do not match
                  </mat-error>
                </mat-form-field>
              </div>
            </div>
            
            <!-- Rest of the template remains the same -->
            <div class="container-auth-form-btn mt-5">
              <button 
                mat-flat-button 
                color="accent" 
                class="auth-form-btn" 
                type="submit"
                [disabled]="resetForm.invalid || isLoading"
              >
                <span *ngIf="!isLoading">Reset Password</span>
                <span *ngIf="isLoading">
                  <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                  Processing...
                </span>
              </button>
            </div>
            
            <div class="w-full p-t-25 text-center">
              <div>
                <a routerLink="/authentication/signin" class="txt1">
                  Back to Login
                </a>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>